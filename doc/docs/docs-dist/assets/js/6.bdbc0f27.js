(window.webpackJsonp = window.webpackJsonp || []).push([[6], { 512: function (s, t, a) { s.exports = a.p + "assets/img/storage.fe1232db.jpg" }, 522: function (s, t, a) { "use strict"; a.r(t); var n = a(2), e = Object(n.a)({}, (function () { var s = this, t = s.$createElement, n = s._self._c || t; return n("ContentSlotsDistributor", { attrs: { "slot-key": s.$parent.slotKey } }, [n("h1", { attrs: { id: "全局配置" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#全局配置" } }, [s._v("#")]), s._v(" 全局配置")]), s._v(" "), n("p", [s._v("在"), n("RouterLink", { attrs: { to: "/guide/install/#快速上手" } }, [s._v("快速上手")]), s._v("的第四节在 main.js 中引入并注册 http-hub 时只使用了其基本的配置，如果有更多需求可以查看下方更多的全局配置。")], 1), s._v(" "), n("p", [s._v("一个完整的 http-hub 配置应该是以下内容：")]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" httpHubConfig "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  apis"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// api列表")]), s._v("\n  axiosConfig"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// axios配置")]), s._v("\n  baseURL"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 多base配置")]), s._v("\n  components"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 自定义提示组件")]), s._v("\n  errorTemp"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 自定义异常模板")]), s._v("\n  cacheTime"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token number" } }, [s._v("60")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("*")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token number" } }, [s._v("1000")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("*")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token number" } }, [s._v("3")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 接口缓存时间(ms)")]), s._v("\n  interceptors"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 自定义拦截器")]), s._v("\n    "), n("span", { pre: !0, attrs: { class: "token function-variable function" } }, [s._v("request")]), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    "), n("span", { pre: !0, attrs: { class: "token function-variable function" } }, [s._v("response")]), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("5")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("6")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("7")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("8")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("9")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("10")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("11")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("12")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("13")]), n("br")])]), n("p", [s._v("下面将介绍每一项的配置，其中带"), n("b", { staticStyle: { color: "red" } }, [s._v("*")]), s._v("的表示必填项")]), s._v(" "), n("h2", { attrs: { id: "apis" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#apis" } }, [s._v("#")]), s._v(" apis"), n("b", { staticStyle: { color: "red" } }, [s._v("*")])]), s._v(" "), n("p", [s._v("api 列表是必填项，如果没有 apis 引入时会报错。具体配置可以参考"), n("RouterLink", { attrs: { to: "/guide/module/#api-列表配置" } }, [s._v("API 列表配置")])], 1), s._v(" "), n("h2", { attrs: { id: "axiosconfig" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#axiosconfig" } }, [s._v("#")]), s._v(" axiosConfig")]), s._v(" "), n("p", [s._v("虽然 axios 配置不是必填项，但是如果想发送一个成功的请求，配置 axios 是必不可少的（比如 baseURL）。参考"), n("a", { attrs: { href: "http://axios-js.com/zh-cn/docs/index.html", target: "_blank", rel: "noopener noreferrer" } }, [s._v("axios 配置"), n("OutboundLink")], 1)]), s._v(" "), n("h2", { attrs: { id: "baseurl" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#baseurl" } }, [s._v("#")]), s._v(" baseURL")]), s._v(" "), n("p", [s._v("有些时候你的项目需要请求两个服务器地址，比如一个后台接口地址，一个 s3 文件服务地址，普通的 axios 配置是无法满足，因此可以采取配置 baseURL 的方式来实现。")]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" baseURL "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  backend"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'https://example.com/backend_server/'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  s3"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'https://example.com/s3_server/'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" httpHubConfig "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  apis"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  axiosConfig"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  baseURL"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("5")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("6")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("7")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("8")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("9")]), n("br")])]), n("p", [s._v("在将 baseURL 注入到"), n("RouterLink", { attrs: { to: "/guide/global-config/" } }, [s._v("httpHubConfig")]), s._v("后，就不再使用"), n("span", { staticStyle: { color: "#3eaf7c" } }, [s._v("$API")]), s._v("而是使用以下方式进行调用：")], 1), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// APP.vue")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("this")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("backend"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("moduleName"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), n("span", { pre: !0, attrs: { class: "token function" } }, [s._v("apiName")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// https://example.com/backend_server/apiUrl")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("this")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("s3"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("moduleName"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), n("span", { pre: !0, attrs: { class: "token function" } }, [s._v("apiName")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// https://example.com/s3_server/apiUrl")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br")])]), n("h2", { attrs: { id: "components" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#components" } }, [s._v("#")]), s._v(" components")]), s._v(" "), n("p", [s._v("http-hub 的内置异常提示模板包含了三个模块"), n("RouterLink", { attrs: { to: "/API/" } }, [s._v("Message")]), s._v("，"), n("RouterLink", { attrs: { to: "/API/" } }, [s._v("MessageBox")]), s._v("，"), n("RouterLink", { attrs: { to: "/API/" } }, [s._v("Notice")]), s._v("。基本上可以满足日常需求，但是事情往往不遂人愿，有的时候你需要使用自己的主题，有的时候你的组件库并不是"), n("a", { attrs: { href: "http://design.github.cn/home/welcome", target: "_blank", rel: "noopener noreferrer" } }, [s._v("qaxd"), n("OutboundLink")], 1), s._v("，因此 http-hub 为每个组件提供了 beforeRender 的组件配置的方式，你可以根据自己的业务场景酌情修改展示内容。")], 1), s._v(" "), n("p", [s._v("比如你的项目中用了"), n("a", { attrs: { href: "https://www.iviewui.com/", target: "_blank", rel: "noopener noreferrer" } }, [s._v("iview"), n("OutboundLink")], 1), s._v("，可以参考下面的配置，将提示模板替换为自定义：")]), s._v(" "), n("RecoDemo", { attrs: { collapse: !0 } }, [n("template", { slot: "code-script" }, [n("div", { staticClass: "language-js line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-js" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("import")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v(" Message"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" Modal"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" Notice "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("from")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'view-design'")]), s._v("\n\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" components "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  message"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    comp"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" Message"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    "), n("span", { pre: !0, attrs: { class: "token function" } }, [s._v("beforeRender")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("err"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" config")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v(" message "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" err"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(";")]), s._v("\n      config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("content "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" message"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(";")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("return")]), s._v(" config\n    "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  notice"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    comp"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" Notice"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    "), n("span", { pre: !0, attrs: { class: "token function" } }, [s._v("beforeRender")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("err"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" config")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v(" message "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" err"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(";")]), s._v("\n      config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("duration "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token number" } }, [s._v("3")]), s._v("\n      config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("desc "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" message"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(";")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("return")]), s._v(" config\n    "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  modal"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    comp"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" Modal"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    "), n("span", { pre: !0, attrs: { class: "token function-variable function" } }, [s._v("beforeRender")]), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("err"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" config")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v(" code"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" message "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" err\n      config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("okText "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'确定'")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("if")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), s._v("code "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("===")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token number" } }, [s._v("401")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n        config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("title "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'登录过期'")]), s._v("\n        config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("content "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" message\n        config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), n("span", { pre: !0, attrs: { class: "token function-variable function" } }, [s._v("onOk")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n          "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// redirect logout..")]), s._v("\n        "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("else")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n        config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("title "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'接口请求失败'")]), s._v("\n        config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("content "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" message\n        config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), n("span", { pre: !0, attrs: { class: "token function-variable function" } }, [s._v("onOk")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n          "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// do sth...")]), s._v("\n        "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("return")]), s._v(" config\n    "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")])])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("5")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("6")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("7")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("8")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("9")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("10")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("11")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("12")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("13")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("14")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("15")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("16")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("17")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("18")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("19")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("20")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("21")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("22")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("23")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("24")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("25")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("26")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("27")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("28")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("29")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("30")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("31")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("32")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("33")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("34")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("35")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("36")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("37")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("38")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("39")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("40")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("41")]), n("br")])])])], 2), s._v(" "), n("p", [s._v("有的时候，你只是想修改内置的提示组件而不是提供新的组件，去掉 comp 字段即可")]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" components "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  message"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    "), n("span", { pre: !0, attrs: { class: "token function" } }, [s._v("beforeRender")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("err"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" config")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n      config"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("duration "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token number" } }, [s._v("0")]), s._v("\n      "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("return")]), s._v(" config\n    "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" httpHubConfig "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  apis"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  axiosConfig"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  components"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("5")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("6")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("7")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("8")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("9")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("10")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("11")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("12")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("13")]), n("br")])]), n("table", [n("thead", [n("tr", [n("th", [s._v("属性")]), s._v(" "), n("th", [s._v("描述")]), s._v(" "), n("th", [s._v("类型")]), s._v(" "), n("th", [s._v("默认值")]), s._v(" "), n("th", [s._v("tips")])])]), s._v(" "), n("tbody", [n("tr", [n("td", [s._v("comp")]), s._v(" "), n("td", [s._v("自定义组件")]), s._v(" "), n("td", [s._v("components")]), s._v(" "), n("td", [s._v("内置组件")]), s._v(" "), n("td", [s._v("去掉该字段并搭配 config 字段则可以重写内置组件")])]), s._v(" "), n("tr", [n("td", [s._v("beforeRender")]), s._v(" "), n("td", [s._v("展示之前的钩子")]), s._v(" "), n("td", [s._v("function")]), s._v(" "), n("td", [s._v("null")]), s._v(" "), n("td", [s._v("需要搭配自定义组件使用，第一个参数是异常信息，第二个参数是组件配置，可以更灵活的配置展示信息")])])])]), s._v(" "), n("div", { staticClass: "custom-block danger" }, [n("p", { staticClass: "custom-block-title" }, [s._v("必看！")]), s._v(" "), n("p", [s._v("如果传入了 comp，那么必须要根据你传入对应组件的配置字段(content, title, onOk)来配置 beforeRender,并且将配置结果返回。否则 http-hub 将抛出异常！")])]), s._v(" "), n("h2", { attrs: { id: "errortemp" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#errortemp" } }, [s._v("#")]), s._v(" errorTemp")]), s._v(" "), n("p", [s._v("http-hub 已经内置了一套"), n("RouterLink", { attrs: { to: "/inner/errorTemp.html" } }, [s._v("异常模板")]), s._v("，涵盖了 0，-1000，200，201，202，203，204，401，403，404，500，503 等状态码，如果无法满足业务需求，可以对该模板进行"), n("span", { staticStyle: { color: "#3eaf7c" } }, [s._v("覆盖、扩充")]), s._v("操作。你只需要按照格式传入你需要变更或者扩充的异常模板，http-hub 会自动帮你进行"), n("span", { staticStyle: { color: "#3eaf7c" } }, [s._v("智能合并")]), s._v("✿✿ ヽ(°▽°)ノ ✿。")], 1), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" errorTemp "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'200'")]), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    type"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'success'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 会根据type来判断是否抛出异常，success则不抛出")]), s._v("\n    message"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'请求成功'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'-1001'")]), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    type"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'error'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    logType"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'message'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    message"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'接口异常'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" httpHubConfig "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  apis"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  axiosConfig"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  errorTemp"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("5")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("6")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("7")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("8")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("9")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("10")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("11")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("12")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("13")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("14")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("15")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("16")]), n("br")])]), n("table", [n("thead", [n("tr", [n("th", [s._v("属性")]), s._v(" "), n("th", [s._v("描述")]), s._v(" "), n("th", [s._v("类型")]), s._v(" "), n("th", [s._v("tips")]), s._v(" "), n("th", [s._v("必填")])])]), s._v(" "), n("tbody", [n("tr", [n("td", [s._v("type")]), s._v(" "), n("td", [s._v("提示类型")]), s._v(" "), n("td", [s._v("string")]), s._v(" "), n("td", [s._v("error info warning success")]), s._v(" "), n("td", [s._v("是")])]), s._v(" "), n("tr", [n("td", [s._v("logType")]), s._v(" "), n("td", [s._v("使用的异常组件")]), s._v(" "), n("td", [s._v("string")]), s._v(" "), n("td", [s._v("message modal notice")]), s._v(" "), n("td", [s._v("type 为 success 可不填")])]), s._v(" "), n("tr", [n("td", [s._v("message")]), s._v(" "), n("td", [s._v("异常信息")]), s._v(" "), n("td", [s._v("string")]), s._v(" "), n("td", [s._v("http-hub 会首先获取服务端返回信息，再取此字段")]), s._v(" "), n("td", [s._v("信息从后端获取可不填")])])])]), s._v(" "), n("h2", { attrs: { id: "cachetime" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#cachetime" } }, [s._v("#")]), s._v(" cacheTime")]), s._v(" "), n("p", [s._v("http-hub 内置了响应缓存功能，默认关闭。如果有需求可以设置 cacheTime 来开启，时间的基本单位为"), n("strong", [s._v("ms")])]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" cacheTime "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token number" } }, [s._v("0")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// mm")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" httpHubConfig "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  apis"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  axiosConfig"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  cacheTime"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("5")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("6")]), n("br")])]), n("p", [s._v("响应缓存的逻辑如下：")]), s._v(" "), n("p", [n("img", { attrs: { src: a(512), alt: "缓存流程" } })]), s._v(" "), n("h2", { attrs: { id: "interceptors" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#interceptors" } }, [s._v("#")]), s._v(" interceptors")]), s._v(" "), n("p", [s._v("http-hub 为用户提供了更灵活的拦截器配置，你可以根据自己的需求调整自己的请求、拦截器逻辑。你需要配置你的 interceptors")]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" interceptors "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  request"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("...")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  response"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("...")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n"), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" httpHubConfig "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  apis"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  axiosConfig"), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  interceptors\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("5")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("6")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("7")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("8")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("9")]), n("br")])]), n("h3", { attrs: { id: "request-请求拦截器" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#request-请求拦截器" } }, [s._v("#")]), s._v(" request 请求拦截器")]), s._v(" "), n("p", [s._v("request 必须是一个函数，只有一个 config 参数，其内容是请求的原生配置。你需要做的就是增加或者修改 config 并且将它返回。")]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token function-variable function" } }, [s._v("request")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("config")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// do something ..")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("return")]), s._v(" config\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br")])]), n("h3", { attrs: { id: "response-响应拦截器" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#response-响应拦截器" } }, [s._v("#")]), s._v(" response 响应拦截器")]), s._v(" "), n("p", [s._v("如果你的后端接口返回的内容不能满足 http-hub 约定的"), n("strong", [s._v("返回结构")]), s._v("(code, data, message)，那么你需要自己配置响应拦截器从而达到适配的目的。response 必须是一个函数，只有一个 res 参数，其内容是 axios 的全量返回内容(headers,config,data,....)。你需要做的就是重新包装 res.data 并返回 res。")]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("const")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token function-variable function" } }, [s._v("response")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), n("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("res")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// decorate your res.data")]), s._v("\n  "), n("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("return")]), s._v(" res\n"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("2")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("3")]), n("br"), n("span", { staticClass: "line-number" }, [s._v("4")]), n("br")])]), n("h2", { attrs: { id: "debug-模式" } }, [n("a", { staticClass: "header-anchor", attrs: { href: "#debug-模式" } }, [s._v("#")]), s._v(" debug 模式")]), s._v(" "), n("p", [s._v("http-hub 为用户提供了 debug 模式，默认开启。你可以根据 process.env.NODE_ENV 并将其放入 use 的第三个参数来开启或关闭 debug 模式。")]), s._v(" "), n("div", { staticClass: "custom-block tip" }, [n("p", { staticClass: "custom-block-title" }, [s._v("TIP")]), s._v(" "), n("p", [s._v("在开启 debug 模式后，会在控制台显示一些帮助排查问题的告警。")])]), s._v(" "), n("div", { staticClass: "language-javascript line-numbers-mode" }, [n("pre", { pre: !0, attrs: { class: "language-javascript" } }, [n("code", [s._v("Vue"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), n("span", { pre: !0, attrs: { class: "token function" } }, [s._v("use")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), s._v("HttpHub"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("...")]), s._v("httpHubConfig "), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" process"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("env"), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), n("span", { pre: !0, attrs: { class: "token constant" } }, [s._v("NODE_ENV")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("===")]), s._v(" "), n("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'development'")]), n("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v("\n")])]), s._v(" "), n("div", { staticClass: "line-numbers-wrapper" }, [n("span", { staticClass: "line-number" }, [s._v("1")]), n("br")])])], 1) }), [], !1, null, null, null); t.default = e.exports } }]);