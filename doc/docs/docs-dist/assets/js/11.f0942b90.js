(window.webpackJsonp = window.webpackJsonp || []).push([[11], { 523: function (s, t, a) { "use strict"; a.r(t); var n = a(2), e = Object(n.a)({}, (function () { var s = this, t = s.$createElement, a = s._self._c || t; return a("ContentSlotsDistributor", { attrs: { "slot-key": s.$parent.slotKey } }, [a("h2", { attrs: { id: "安装" } }, [a("a", { staticClass: "header-anchor", attrs: { href: "#安装" } }, [s._v("#")]), s._v(" 安装")]), s._v(" "), a("div", { staticClass: "language-sh line-numbers-mode" }, [a("pre", { pre: !0, attrs: { class: "language-sh" } }, [a("code", [a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("yarn")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("add")]), s._v(" @vislab/http-hub "), a("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("# npm install @vislab/http-hub --save")]), s._v("\n")])]), s._v(" "), a("div", { staticClass: "line-numbers-wrapper" }, [a("span", { staticClass: "line-number" }, [s._v("1")]), a("br")])]), a("h2", { attrs: { id: "快速上手" } }, [a("a", { staticClass: "header-anchor", attrs: { href: "#快速上手" } }, [s._v("#")]), s._v(" 快速上手")]), s._v(" "), a("p", [s._v("本文可以帮助你快速搭建一个基于 http-hub 管理 api 的小 demo，如有更多需求可以查看"), a("RouterLink", { attrs: { to: "/guide/global-config/" } }, [s._v("全局配置")]), s._v("。")], 1), s._v(" "), a("div", { staticClass: "custom-block warning" }, [a("p", { staticClass: "custom-block-title" }, [s._v("WARNING")]), s._v(" "), a("p", [s._v("快速上手示例基于 Vue 2.x，如你使用 3.x 请移步：TODO...")])]), s._v(" "), a("ol", [a("li", [s._v("安装 vue-cli 并创建初始化完毕")])]), s._v(" "), a("div", { staticClass: "language-sh line-numbers-mode" }, [a("pre", { pre: !0, attrs: { class: "language-sh" } }, [a("code", [s._v("vue create http-hub-starter\n")])]), s._v(" "), a("div", { staticClass: "line-numbers-wrapper" }, [a("span", { staticClass: "line-number" }, [s._v("1")]), a("br")])]), a("ol", { attrs: { start: "2" } }, [a("li", [s._v("进入根目录并安装")])]), s._v(" "), a("div", { staticClass: "language-sh line-numbers-mode" }, [a("pre", { pre: !0, attrs: { class: "language-sh" } }, [a("code", [a("span", { pre: !0, attrs: { class: "token builtin class-name" } }, [s._v("cd")]), s._v(" http-hub-starter "), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("&&")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("yarn")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("add")]), s._v(" @vislab/http-hub\n")])]), s._v(" "), a("div", { staticClass: "line-numbers-wrapper" }, [a("span", { staticClass: "line-number" }, [s._v("1")]), a("br")])]), a("ol", { attrs: { start: "3" } }, [a("li", [s._v("在 src 中创建 api 文件夹并创建第一个 api 列表")])]), s._v(" "), a("div", { staticClass: "language-javascript line-numbers-mode" }, [a("pre", { pre: !0, attrs: { class: "language-javascript" } }, [a("code", [a("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// /src/api/index.js")]), s._v("\n"), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("export")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("default")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  demo"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("[")]), s._v("\n    "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n      name"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'getDemo'")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n      url"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'/demo'")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n      method"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'get'")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n      desc"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'演示接口'")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("]")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), a("div", { staticClass: "line-numbers-wrapper" }, [a("span", { staticClass: "line-number" }, [s._v("1")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("2")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("3")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("4")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("5")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("6")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("7")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("8")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("9")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("10")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("11")]), a("br")])]), a("ol", { attrs: { start: "4" } }, [a("li", [s._v("在 main.js 中引入 http-hub 并使用")])]), s._v(" "), a("div", { staticClass: "language-javascript line-numbers-mode" }, [a("pre", { pre: !0, attrs: { class: "language-javascript" } }, [a("code", [a("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 其中‘@’为src的别名")]), s._v("\n"), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("import")]), s._v(" HttpHub "), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("from")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'@vislab/http-hub'")]), s._v("\n"), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("import")]), s._v(" apis "), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("from")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'@/api'")]), s._v("\nVue"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("use")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), s._v("HttpHub"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  apis"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  axiosConfig"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    baseURL"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v("\n      "), a("span", { pre: !0, attrs: { class: "token string" } }, [s._v("'https://api.github.cn/mockApi/vZ3Sun7d4a043c66cccbe79595a2191a9db1f38dac56a9e'")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n    timeout"), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v(":")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token number" } }, [s._v("100000")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n  "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(",")]), s._v("\n"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v("\n")])]), s._v(" "), a("div", { staticClass: "line-numbers-wrapper" }, [a("span", { staticClass: "line-number" }, [s._v("1")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("2")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("3")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("4")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("5")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("6")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("7")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("8")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("9")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("10")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("11")]), a("br")])]), a("ol", { attrs: { start: "5" } }, [a("li", [s._v("在 App.vue 的 mounted 中发起请求")])]), s._v(" "), a("div", { staticClass: "language-javascript line-numbers-mode" }, [a("pre", { pre: !0, attrs: { class: "language-javascript" } }, [a("code", [a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("mounted")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n  "), a("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 调用的格式为 this.$API.moduleName.apiName()")]), s._v("\n  "), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("this")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("$"), a("span", { pre: !0, attrs: { class: "token constant" } }, [s._v("API")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), s._v("demo"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("getDemo")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("then")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), a("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("res")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    console"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("log")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), s._v("res"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v("\n  "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("catch")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), a("span", { pre: !0, attrs: { class: "token parameter" } }, [s._v("err")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token operator" } }, [s._v("=>")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("{")]), s._v("\n    "), a("span", { pre: !0, attrs: { class: "token keyword" } }, [s._v("this")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(".")]), a("span", { pre: !0, attrs: { class: "token function" } }, [s._v("$hubErrorHandler")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("(")]), s._v("err"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v(" "), a("span", { pre: !0, attrs: { class: "token comment" } }, [s._v("// 内置统一异常捕获方法")]), s._v("\n  "), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v(")")]), s._v("\n"), a("span", { pre: !0, attrs: { class: "token punctuation" } }, [s._v("}")]), s._v("\n")])]), s._v(" "), a("div", { staticClass: "line-numbers-wrapper" }, [a("span", { staticClass: "line-number" }, [s._v("1")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("2")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("3")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("4")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("5")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("6")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("7")]), a("br"), a("span", { staticClass: "line-number" }, [s._v("8")]), a("br")])]), a("p", [s._v("此时你已经通过 http-hub 发起了一个请求，并获得了返回值。但是如果接口过多，全部堆积在 index.js 中会让项目变得难以维护，因此可以选择以"), a("RouterLink", { attrs: { to: "/guide/module/" } }, [s._v("模块配置")]), s._v("的方式来管理你的 api 列表")], 1)]) }), [], !1, null, null, null); t.default = e.exports } }]);